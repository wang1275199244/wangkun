<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.wk.dao.AttendanceRecordDao">

    <insert id="addAttendanceRecord">
        insert into T_ATTENDANCE_RECORD (AR_CLOCK_IN, AR_CLOCK_OUT, AR_OVERTIME_START, AR_OVERTIME_END, AR_EMP_ID, AR_STATE) VALUES (#{clockIn},#{clockOut},#{overTimeStart},#{overTimeEnd},#{empid}#{state})
    </insert>

    <update id="updateAttendanceRecord">
        UPDATE T_ATTENDANCE_RECORD
        SET AR_CLOCK_IN = #{clockIn},
         AR_CLOCK_OUT = #{clockOut},
          AR_OVERTIME_START = #{overTimeStart},
           AR_OVERTIME_END = #{overTimeEnd},
            AR_EMP_ID = #{empid},
             AR_STATE = #{state}
             where Ar_ID = #{id}
    </update>

    <delete id="delAttendanceRecord">
        delete from T_ATTENDANCE_RECORD where AR_ID = #{id}
    </delete>

    <select id="getAttendanceRecordByEmpid" resultMap="arMap">
        select * from T_ATTENDANCE_RECORD where AR_OVERTIME_END = #{empid}
    </select>
    <resultMap id="arMap" type="AttendanceRecord">
        <id property="id" column="AR_ID"/>
        <result property="clockIn" column="AR_CLOCK_IN"/>
        <result property="clockOut" column="AR_CLOCK_OUT"/>
        <result property="overTimeStart" column="AR_OVERTIME_START"/>
        <result property="overTimeEnd" column="AR_OVERTIME_END"/>
        <result property="empid" column="AR_EMP_ID"/>
        <result property="state" column="AR_STATE"/>
    </resultMap>
</mapper>